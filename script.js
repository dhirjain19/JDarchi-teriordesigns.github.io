let site = `{
  "home": [
    {
      "image": "../images/project_1/5.jpg",
      "quote": "Chasing dreams and making memories."
    },
    {
      "image": "../images/project_1/6.jpg",
      "quote": "Adventure awaits around every corner."
    },
    {
      "image": "../images/project_2/1.png",
      "quote": "Finding beauty in the simple things."
    },
    {
      "image": "../images/project_2/2.png",
      "quote": "Chasing dreams and making memories."
    },
    {
      "image": "../images/project_4/1.png",
      "quote": "Adventure awaits around every corner."
    },
    {
      "image": "../images/project_4/2.png",
      "quote": "Finding beauty in the simple things."
    },
    {
      "image": "../images/project_3/1.jpg",
      "quote": "Chasing dreams and making memories."
    },
    {
      "image": "../images/project_3/2.jpg",
      "quote": "Adventure awaits around every corner."
    }
  ],
  "projects": [
    {
      "academic": [
        {
          "name": "IIM Karjat",
          "caption": "Indian Institute of Management Studies in the state of Maharashtra",
          "description": "<div class='design-philosophy'><div class='image-1'><img src = '../images/project_1/10.png'></div><div class = 'description'><div class= 'heading'>Design Philosophy</div><p>The aim is to protect, manage, conserve and eventually restore the Dhanauri wetlands U.P. The purpose in achieving these points is through having a research centre and generating awareness among the masses about the importance of wetlands and its vast biodiversity. Scientific ways to be implemented to rejuvenate the wetlands back to its original state over a period. Finally showcase and elaborate various experience to attract tourist with the help of interactive design spaces.</p></div></div><div class='design-objectives'><div class = 'image-2'><img src = '../images/project_1/8.png'></div><div class = 'description'><div class='heading'>Design Objectives</div><p>To study the rich flora and fauna of the region. To implement ways to preserve/conserve the rich ecology of wetlands. To implement scientific interventions to restore the wetlands back to its original glory. Create awareness among the masses through eco-tourism, eventually generate socio-economic values over the area. To create interactive design spaces keeping wetlands in background.</p></div></div><div class = 'floor-plan'><div class = 'ground'><div class = 'image-1'><img src = '../images/project_1/11.png'></div><div class = 'heading'>Ground Floor Plan</div></div><div class = 'first'></div></div><div class='site-plan'><div class = 'image-3'><img src = '../images/project_1/9.png'></div><div class = 'description'>Site Plan</div></div>",
          "images": [
            {
              "image": "../images/project_3/1.jpg"
            },
            {
              "image": "../images/project_3/2.jpg"
            },
            {
              "image": "../images/project_3/3.jpg"
            },
            {
              "image": "../images/project_3/4.png"
            },
            {
              "image": "../images/project_3/5.png"
            },
            {
              "image": "../images/project_3/6.png"
            },
            {
              "image": "../images/project_3/7.png"
            },
            {
              "image": "../images/project_3/8.png"
            },
            {
              "image": "../images/project_3/9.png"
            },
            {
              "image": "../images/project_3/10.png"
            },
            {
              "image": "../images/project_3/11.png"
            }
          ]
        },
        {
          "name": "Nesting Neighbors",
          "caption": "A Mixed-use Mass Housing Complex in the suburbs of Mumbai",
          "description": "<div class='design-brief'><div class = 'image-2'><img src = '../images/project_1/8.png'></div><div class = 'description'><div class='heading'>Design Brief</div><p>Population explosion globally has directly resulted in urban sprawl of the respective metro cities to accommodate the ever-increasing masses mainly resulting in unsustainable living solutions. Scarcity of available land for development and an increase in real estate prices has led to the trend of utilizing mixed-use developments to solve the multitude of issues currently presented in twenty-first century cities. This invites an exploration of the potential and the opportunities that these types of developments can provide in relation to their placed context. This project therefore, will investigate the process of typology analysis in the context of the city as first principle aid for the production of mixed-use architecture<br><br>The notion of having vertical cities helps save energy resources and supports the ever-increasing population and preserves the further eradication of farmlands., nature and recreation in the fringe area. The design problem of high rise buildings examines the use of hybrid typology and its contribution towards sustainability. To protect the city against this sort of expansion which eventually would reach a saturation point, a high rise as a building typology is a possible solution by conquering vertical space through agglomeration and intensification.<br><br>Vertically mixed used developments is a system of decentralisation of amenities, such that uses and facilities are available in smaller and localised areas. Activation of street edge through ground floor retail and commercial . upper story residential for improved privacy, access to views, adequate light and ventilation, increased demand of local needs, easy access to local employment opportunities Multiple stakeholders in one building to use resources like energy, trash disposal, sewage more efficiently. Mixed use highrise building is a more unified mixed and architectural solution, certain different paradigm rather than earmarking separate buildings for diff land uses.</p></div></div>          <div class='design-philosophy'><div class='image-1'><img src = '../images/project_1/10.png'></div><div class = 'description'><div class= 'heading'>Design Philosophy</div><p><ul><li>To design a mixed-use skyscraper which contributes towards sustainable environment along with  well-organized different sectors of the living needs.</li><li>To configure spaces which improve the social and visual collaboration and decrease disengagement.</li><li>To design a structurally full proof building to cater to the context and need optimally.</li></ul></p></div></div><div class='design-objectives'><div class = 'image-2'><img src = '../images/project_1/8.png'></div><div class = 'description'><div class='heading'>Design Objectives</div><p>To study the rich flora and fauna of the region. To implement ways to preserve/conserve the rich ecology of wetlands. To implement scientific interventions to restore the wetlands back to its original glory. Create awareness among the masses through eco-tourism, eventually generate socio-economic values over the area. To create interactive design spaces keeping wetlands in background.</p></div></div><div class = 'floor-plan'><div class = 'ground'><div class = 'image-1'><img src = '../images/project_1/11.png'></div><div class = 'heading'>Ground Floor Plan</div></div><div class = 'first'></div></div><div class='site-plan'><div class = 'image-3'><img src = '../images/project_1/9.png'></div><div class = 'description'>Site Plan</div></div>",
          "images": [
            {
              "image": "../images/project_2/1.png"
            },
            {
              "image": "../images/project_2/2.png"
            },
            {
              "image": "../images/project_2/3.png"
            },
            {
              "image": "../images/project_2/4.png"
            },
            {
              "image": "../images/project_2/5.png"
            },
            {
              "image": "../images/project_2/6.png"
            },
            {
              "image": "../images/project_2/7.png"
            }
          ]
        },
        {
          "name": "Maritime Museum Views",
          "caption": "Landscape Design in an Eco-Resort in the district of Jodhpur",
          "description": "<div class='design-philosophy'><div class='image-1'><img src = '../images/project_1/10.png'></div><div class = 'description'><div class= 'heading'>Design Philosophy</div><p>The aim is to create a world-class Maritime museum of fame to showcase this aspect of history and there is no national monument to bring a visionary transformation of the Mumbai Port area into a tourism hub. As structure has to respond to the evolving urban fabric & serve as a benchmark, both permanent and temporal.</p></div></div><div class='design-objectives'><div class = 'image-2'><img src = '../images/project_1/8.png'></div><div class = 'description'><div class='heading'>Design Objectives</div><p><ul><li>To engage with historical, theoretical, and practical methods of display and viewership.</li> <li>To explore and understand the relationship between exhibition and architectural design.</li> <li>To understand user movement, space requirement, accessibility, and standard practices for museum design & public spaces.</li> <li>Understanding space requirements for various activities for small and large groups of people along with indoor and outdoor spaces created by built forms.</li> <li>Design of spaces suitable for the intended activity.</li> <li>Design of spaces as per the behavioural needs of individuals and groups.</li> <li>Design and detailing of the built form and required infrastructure regarding methods of construction and materials.</li></ul></p></div></div><div class = 'floor-plan'><div class = 'ground'><div class = 'image-1'><img src = '../images/project_1/11.png'></div><div class = 'heading'>Ground Floor Plan</div></div><div class = 'first'></div></div><div class='site-plan'><div class = 'image-3'><img src = '../images/project_1/9.png'></div><div class = 'description'>Site Plan</div></div>",
          "images": [
            {
              "image": "../images/project_4/1.png"
            },
            {
              "image": "../images/project_4/2.png"
            },
            {
              "image": "../images/project_4/3.png"
            },
            {
              "image": "../images/project_4/4.png"
            }
          ]
        }
      ],
      "professional": [
        {
          "name": "Dhanuari Wetlands: Conservation and Restoration of its Multifarious Ecology",
          "description": "<div class='design-philosophy'><div class='image-1'><img src = '../images/project_1/10.png'></div><div class = 'description'><div class= 'heading'>Design Philosophy</div><p>The aim is to protect, manage, conserve and eventually restore the Dhanauri wetlands U.P. The purpose in achieving these points is through having a research centre and generating awareness among the masses about the importance of wetlands and its vast biodiversity. Scientific ways to be implemented to rejuvenate the wetlands back to its original state over a period. Finally showcase and elaborate various experience to attract tourist with the help of interactive design spaces.</p></div></div><div class='design-objectives'><div class = 'image-2'><img src = '../images/project_1/8.png'></div><div class = 'description'><div class='heading'>Design Objectives</div><p>To study the rich flora and fauna of the region. To implement ways to preserve/conserve the rich ecology of wetlands. To implement scientific interventions to restore the wetlands back to its original glory. Create awareness among the masses through eco-tourism, eventually generate socio-economic values over the area. To create interactive design spaces keeping wetlands in background.</p></div></div><div class = 'floor-plan'><div class = 'ground'><div class = 'image-1'><img src = '../images/project_1/11.png'></div><div class = 'heading'>Ground Floor Plan</div></div><div class = 'first'></div></div><div class='site-plan'><div class = 'image-3'><img src = '../images/project_1/9.png'></div><div class = 'description'>Site Plan</div></div>",
          "images": [
            {
              "image": "../images/project_1/1.png"
            },
            {
              "image": "../images/project_1/2.png"
            },
            {
              "image": "../images/project_1/3.png"
            },
            {
              "image": "../images/project_1/4.jpg"
            },
            {
              "image": "../images/project_1/5.jpg"
            },
            {
              "image": "../images/project_1/6.jpg"
            },
            {
              "image": "../images/project_1/7.png"
            }
          ]
        }
      ]
    }
  ]
}`;

site = JSON.parse(site)

var menu_count = 0;

function menuToggle() {
  var menu_page = document.getElementById("menu-page");
  var menu_items = document.getElementById("menu-items-one").getElementsByClassName("menu-item");

  if (menu_count == 0) {
    document.getElementById("menu-toggle").classList.toggle("menu-button-clicked");

    menu_page.classList.toggle("active");
    
    setTimeout(() => {
      menu_page.classList.toggle("show");
    }, 100);

    setTimeout(() => {
      for (let i = 0; i < menu_items.length; i++) {
        menu_items[i].classList.toggle("active");
      }
    }, 200);

    menu_count = 1;
  } 
  else {
    document.getElementById("menu-toggle").classList.toggle("menu-button-clicked");
    
    for (let i = 0; i < menu_items.length; i++) {
      menu_items[i].classList.toggle("active");
    }
    
    setTimeout(() => {
      menu_page.classList.toggle("show");      
    }, 100);

    setTimeout(() => {
      menu_page.classList.toggle("active");      
    }, 500);

    menu_count = 0;
    
    var menu_lists = document.getElementsByClassName('menu-list');
    console.log(menu_lists);
    if(menu_lists[0].classList.contains('hide')){
      menu_lists[0].classList.remove("hide");
      menu_lists[1].classList.add("hide");
      menu_lists[2].classList.add("hide");
      menu_lists[3].classList.add("hide");
      for(menu_item of document.getElementsByClassName('menu-item')){
        menu_item.classList.remove('active');
        menu_item.classList.remove('hide');
      }
    }
  }
}


function toggle_menu_two(val) {

  var menu_items_one = document.getElementById("menu-items-one").getElementsByClassName("menu-item");
  var menu_items_two = document.getElementById("menu-items-two").getElementsByClassName("menu-item");

  if (val == 0) {
    for (let i = 0; i < menu_items_two.length; i++) {
      menu_items_two[i].classList.toggle("active");
    }

    setTimeout(() => {
      document.getElementsByClassName('menu-list-two')[0].classList.toggle("hide");
    }, 300);

    setTimeout(() => {
      document.getElementsByClassName('menu-list-one')[0].classList.toggle("hide");
    }, 300);

    setTimeout(() => {
      for (let i = 0; i < menu_items_one.length; i++) {
        menu_items_one[i].classList.toggle("hide");
      }
    }, 325);
  }  

  else {
    for (let i = 0; i < menu_items_one.length; i++) {
      menu_items_one[i].classList.toggle("hide");
    }
    
    setTimeout(() => {
      document.getElementsByClassName('menu-list-one')[0].classList.toggle("hide");
    }, 300);
  
    setTimeout(() => {
      document.getElementsByClassName('menu-list-two')[0].classList.toggle("hide");
    }, 300);
  
    setTimeout(() => {
      for (let i = 0; i < menu_items_two.length; i++) {
        menu_items_two[i].classList.toggle("active");
      }
    }, 325);
  }
}


function toggle_menu_three(val) {
  var menu_items_two = document.getElementById("menu-items-two").getElementsByClassName("menu-item");
  var academic_list = document.getElementById("academic-menu").getElementsByClassName("menu-item");
  var professional_list = document.getElementById("professional-menu").getElementsByClassName("menu-item");

  if (val == 1) {
    for (let i = 0; i < menu_items_two.length; i++) {
      menu_items_two[i].classList.toggle("hide");
    }
    
    setTimeout(() => {
      document.getElementsByClassName('menu-list-two')[0].classList.toggle("hide");
    }, 300);
  
    setTimeout(() => {
      document.getElementsByClassName('menu-list-three')[0].classList.toggle("hide");
    }, 300);
  
    setTimeout(() => {
      for (let i = 0; i < academic_list.length; i++) {
        academic_list[i].classList.toggle("active");
      }
    }, 325);
  }

  else if (val == 2) {
    for (let i = 0; i < menu_items_two.length; i++) {
      menu_items_two[i].classList.toggle("hide");
    }
    
    setTimeout(() => {
      document.getElementsByClassName('menu-list-two')[0].classList.toggle("hide");
    }, 300);
  
    setTimeout(() => {
      document.getElementsByClassName('menu-list-three')[1].classList.toggle("hide");
    }, 300);
  
    setTimeout(() => {
      for (let i = 0; i < professional_list.length; i++) {
        professional_list[i].classList.toggle("active");
      }
    }, 325);
  }

  else if (val == 3){
    for (let i = 0; i < academic_list.length; i++) {
      academic_list[i].classList.toggle("active");
    }

    setTimeout(() => {
      document.getElementsByClassName('menu-list-three')[0].classList.toggle("hide");
    }, 300);

    setTimeout(() => {
      document.getElementsByClassName('menu-list-two')[0].classList.toggle("hide");
    }, 300);

    setTimeout(() => {
      for (let i = 0; i < menu_items_two.length; i++) {
        menu_items_two[i].classList.toggle("hide");
      }
    }, 325);
  }

  else {
    for (let i = 0; i < professional_list.length; i++) {
      professional_list[i].classList.toggle("active");
    }

    setTimeout(() => {
      document.getElementsByClassName('menu-list-three')[1].classList.toggle("hide");
    }, 300);

    setTimeout(() => {
      document.getElementsByClassName('menu-list-two')[0].classList.toggle("hide");
    }, 300);

    setTimeout(() => {
      for (let i = 0; i < menu_items_two.length; i++) {
        menu_items_two[i].classList.toggle("hide");
      }
    }, 325);
  }
}

var sectionNames = document.getElementsByClassName("section");

function opensection(sectionTab, menu = true){
  for(sectionName of sectionNames){
    sectionName.classList.remove('active-section');
  }
  document.getElementById(sectionTab).classList.add("active-section");
  
  setTimeout(() => {if (menu) menuToggle(); }, 2400);  
  onLoadDisplay();
  
}

var home_element = document.querySelector(".home");
var home_container = home_element.querySelector(".container");

function createHomeSlideElements(image, quote){
  parallax_images = document.createElement("div");
  parallax_images.className = 'parallax_images';
  parallax_images.style.backgroundImage = `url(${image})`;
  caption = document.createElement("div");
  caption.className = 'caption';
  caption.innerHTML = quote;
  parallax_images.appendChild(caption);
  home_container.appendChild(parallax_images);
}

function createHomeElements(){
  for(var i = 0; i < site.home.length; i++){
    createHomeSlideElements(site.home[i].image, site.home[i].quote)
  }
}

// createHomeElements();

var gallery_element = document.querySelector(".gallery");
var gallery_container = gallery_element.querySelector(".container");
var gallery_slideshow = gallery_container.querySelector(".slideshow");

function addImageElement(source){
  image = document.createElement("img");
  image.src = source;
  return image;
}

function createGallerySlideElement(gallery_images, source){
  image_slideshow = document.createElement("div");
  image_slideshow.className = 'image_slideshow';

  project_images = document.createElement("div");
  project_images.className = 'project_images';
  
  image_slideshow.appendChild(addImageElement(source));
  project_images.appendChild(addImageElement(source));

  gallery_images.appendChild(project_images);
  gallery_slideshow.appendChild(image_slideshow);
}

function createGalleryTextElement(title, detail){
  project_title = document.createElement("div");
  project_title.className = 'project_title';

  project_detail = document.createElement("div");
  project_detail.className = 'project_detail';

  project_title.innerHTML = title;
  project_detail.innerHTML = detail;

  gallery_container.appendChild(project_title);
  gallery_container.appendChild(project_detail);
}

function removeSingleElement(parentClass, elementId) {
  var element = parentClass.getElementsByClassName(elementId);

  if (element.length > 0) {
    element[0].remove();
  }
}

function removeMultipleElements(parentClass, elementId) {
  var elements = parentClass.getElementsByClassName(elementId);
  
  if (elements.length > 0) {
    for (i = elements.length - 1; i > -1; i--) {
      elements[i].remove();
    }
  }
}

var slideIndex = 1;

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("image_slideshow");
  if (n > x.length) {slideIndex = 1}
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";  
  }
  x[slideIndex-1].style.display = "block";  
  // setTimeout(() => {showDivs(slideIndex += 1)}, 2000);
}

function createGalleryElements(category, value){
  
  removeMultipleElements(gallery_slideshow, "image_slideshow")
  removeSingleElement(gallery_container, "project_title")
  removeSingleElement(gallery_container, "project_detail")
  removeSingleElement(gallery_container, "gallery_title")
  removeSingleElement(gallery_container, "project_gallery")

  var gallery_images = document.createElement("div");
  gallery_images.className = "project_gallery";

  gallery_title = document.createElement("div");
  gallery_title.className = 'gallery_title';
  gallery_title.innerHTML = "Gallery";

  for(var i = 0; i < site.projects[0][category][value].images.length; i++){
    createGallerySlideElement(gallery_images, site.projects[0][category][value].images[i].image);
  }

  createGalleryTextElement(site.projects[0][category][value].name, site.projects[0][category][value].description);
  
  gallery_container.appendChild(gallery_title);
  gallery_container.appendChild(gallery_images);  

  showDivs(slideIndex = 1);
}

function showProject(category, value, menu = false){
  for(sectionName of sectionNames){
    sectionName.classList.remove('active-section');
  }
  createGalleryElements(category, value);

  setTimeout(() => {if (menu) menuToggle(); }, 2400);  
  setTimeout(() => {document.getElementById("gallery").classList.add("active-section"); }, 2000);  
  onLoadDisplay();
}

function onLoadDisplay() {
  var loading_page = document.getElementById("onLoadDisplay");
  // var logo_wrapper = loading_page.getElementsByClassName('wrapper')[0]; 
  // var logo_img = loading_page.getElementsByClassName('logo_image')[0]; 
  // var logo_title = loading_page.getElementsByClassName('logo_title')[0];  
  
  loading_page.classList.add("display");
  setTimeout(()=>{
    loading_page.classList.add("opacity");
  }, 50);
  setTimeout(()=>{
    loading_page.classList.remove("opacity");
  }, 2500);
  setTimeout(()=>{
    loading_page.classList.remove("display");
  }, 3500);
}


const observer = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    // console.log(entry);
    if (entry.isIntersecting) {
      entry.target.querySelector('.content').classList.add('active');
      entry.target.classList.add('active');
    } else  {
      entry.target.classList.remove('active');
      entry.target.querySelector('.content').classList.remove('active');
    }
  });
});

const homeElements = document.getElementById('home').querySelectorAll('.item');
homeElements.forEach((el) => observer.observe(el));